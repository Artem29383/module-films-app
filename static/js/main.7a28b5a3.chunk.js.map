{"version":3,"sources":["pages/home/Home.module.scss","components/Input/Input.module.scss","components/Button/Button.module.scss","components/Input/Input.jsx","components/Button/Button.jsx","hooks/useAction.js","pages/home/Home.jsx","models/filmlist/action.js","App.js","models/filmlist/reducer.js","api/api.js","api/sagas.js","state/Store.js","index.js"],"names":["module","exports","Input","value","handler","desc","isError","className","classes","group","onChange","placeholder","frameInput","type","bar","label","error","Button","text","fn","btn","onClick","useAction","dispatch","useDispatch","useCallback","payload","Home","useState","isShow","setIsShow","name","setName","genre","setGenre","date","setDate","country","setCountry","setIsError","isDone","setIsDone","postFilm","nameHandler","e","currentTarget","genreHandler","dateHandler","countryHandler","useEffect","setTimeout","home","classnames","createdFilmFrame","show","frameContent","title","titleText","frameFields","green","trim","id","Date","now","close","active","App","path","component","to","initialState","filmsList","filmsReducer","state","action","API","postCreateFilms","film","instance","post","this","axios","create","baseURL","rootSaga","call","console","log","takeEvery","saga","createSagaMiddleware","reducer","combineReducers","films","store","createStore","applyMiddleware","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7a28b5a3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__w65C8\",\"createdFilmFrame\":\"Home_createdFilmFrame__1aNkG\",\"show\":\"Home_show__m7YnG\",\"title\":\"Home_title__1hnF9\",\"titleText\":\"Home_titleText__ZdPAU\",\"frameContent\":\"Home_frameContent__2wIXR\",\"close\":\"Home_close__1JZNV\",\"active\":\"Home_active__78WeD\",\"frameFields\":\"Home_frameFields__LM7Cu\",\"error\":\"Home_error__2yE2j\",\"green\":\"Home_green__2r7Ix\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"frameInput\":\"Input_frameInput__2iStS\",\"group\":\"Input_group__1SZz2\",\"label\":\"Input_label__1-bWF\",\"input\":\"Input_input__A70Ba\",\"bar\":\"Input_bar__FA80F\",\"error\":\"Input_error__1ko7S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3Y1fo\"};","import React from 'react';\r\nimport classes from './Input.module.scss';\r\n\r\nconst Input = ({\r\n  value,\r\n  handler,\r\n  desc,\r\n  isError\r\n}) => (\r\n  <div className={classes.group}>\r\n    <input\r\n      value={value}\r\n      onChange={handler}\r\n      placeholder=' '\r\n      className={classes.frameInput}\r\n      type=\"text\" />\r\n    <span className={classes.bar} />\r\n    <label className={classes.label}>{desc}</label>\r\n    {(isError && !value)\r\n    && <div className={classes.error}>\r\n      Заполните поле.\r\n    </div>}\r\n  </div>\r\n);\r\n\r\nexport default Input;","import React from 'react';\r\nimport classes from './Button.module.scss';\r\n\r\nconst Button = ({ text, fn }) => (\r\n  <button className={classes.btn} onClick={fn}>\r\n    {text}\r\n  </button>\r\n);\r\n\r\nexport default Button;","import { useCallback } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst useAction = type => {\r\n  const dispatch = useDispatch();\r\n  return useCallback((payload = {}) => dispatch({type, payload}), [\r\n    dispatch,\r\n    type\r\n  ]);\r\n};\r\n\r\nexport default useAction;\r\n\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport classes from './Home.module.scss';\r\nimport classnames from 'classnames';\r\nimport Input from '../../components/Input/Input';\r\nimport Button from '../../components/Button/Button';\r\nimport useAction from '../../hooks/useAction';\r\nimport { POST_FILM } from '../../models/filmlist/action';\r\n\r\n\r\nconst Home = () => {\r\n  const [isShow, setIsShow] = useState(false);\r\n  const [name, setName] = useState('');\r\n  const [genre, setGenre] = useState('');\r\n  const [date, setDate] = useState('');\r\n  const [country, setCountry] = useState('');\r\n  const [isError, setIsError] = useState(false);\r\n  const [isDone, setIsDone] = useState(false);\r\n  const postFilm = useAction(POST_FILM);\r\n  \r\n  const showHandler = () => {\r\n    setIsShow(!isShow);\r\n  };\r\n  \r\n  const nameHandler = useCallback(e => {\r\n    setName(e.currentTarget.value);\r\n  }, [setName]);\r\n  \r\n  const genreHandler = useCallback(e => {\r\n    setGenre(e.currentTarget.value);\r\n  }, [setGenre]);\r\n  \r\n  const dateHandler = useCallback(e => {\r\n    setDate(e.currentTarget.value);\r\n  }, [setDate]);\r\n  \r\n  const countryHandler = useCallback(e => {\r\n    setCountry(e.currentTarget.value);\r\n  }, [setCountry]);\r\n  \r\n  const sumbitHandler = () => {\r\n    if (name.trim() && genre.trim() && date.trim() && country.trim()) {\r\n      const id = Date.now();\r\n      postFilm({ id, payload: { id, name, genre, date, country } });\r\n      setIsDone(true);\r\n      setName('');\r\n      setGenre('');\r\n      setDate('');\r\n      setCountry('');\r\n    } else {\r\n      setIsError(true);\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    if (isError) {\r\n      setTimeout(() => setIsError(false), 2000);\r\n    }\r\n    if (isDone) {\r\n      setTimeout(() => setIsDone(false), 2000);\r\n    }\r\n  }, [isError, isDone]);\r\n  \r\n  return (\r\n    <div className={classes.home}>\r\n      <div\r\n        className={classnames(\r\n          classes.createdFilmFrame,\r\n          isShow && classes.show)\r\n        }>\r\n        <div className={classes.frameContent}>\r\n          <div className={classes.title}>\r\n            <div className={classes.titleText}>\r\n              Добавить фильм\r\n            </div>\r\n          </div>\r\n          <div className={classes.frameFields}>\r\n            <Input isError={isError} value={name} handler={nameHandler} desc='Название' />\r\n            <Input isError={isError} value={genre} handler={genreHandler} desc='Жанр' />\r\n            <Input isError={isError} value={date} handler={dateHandler} desc='Дата выхода' />\r\n            <Input isError={isError} value={country} handler={countryHandler} desc='Страна выпуска' />\r\n            {isDone &&\r\n            <div className={classnames(\r\n              classes.error,\r\n              classes.green\r\n            )}>\r\n              Фильм добавлен.\r\n            </div>}\r\n          </div>\r\n          <Button text='Добавить фильм' fn={sumbitHandler} />\r\n          <span\r\n            className={classnames(\r\n              classes.close,\r\n              isShow && classes.active)\r\n            }\r\n            onClick={showHandler}>\r\n            ✖\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Home;","export const POST_FILM = 'POST_FILM';","import React from 'react';\nimport {\n  Redirect,\n  Route,\n  Switch\n} from 'react-router-dom';\nimport Home from './pages/home/Home';\n\nconst App = () => {\n  return (\n    <Switch>\n      <Route path='/home' component={Home} />\n      <Redirect to='/home' />\n    </Switch>\n  );\n};\n\nexport default App;\n","const initialState ={\r\n  filmsList: []\r\n};\r\n\r\nconst filmsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    \r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default filmsReducer;","import axios from \"axios\";\r\n\r\n\r\nclass Api {\r\n  constructor() {\r\n    this.instance = axios.create({\r\n      baseURL: 'http://localhost:3000/'\r\n    });\r\n  }\r\n  \r\n  postCreateFilms = (id, film) => {\r\n    return this.instance.post(`filmsList`, film);\r\n  };\r\n}\r\n\r\nconst API = new Api();\r\n\r\nexport default API;\r\n","import API from './../api/api';\r\nimport {\r\n  call,\r\n  takeEvery\r\n} from 'redux-saga/effects'\r\nimport { POST_FILM } from '../models/filmlist/action';\r\n\r\n\r\nfunction* postFilm(action) {\r\n  try {\r\n    yield call(API.postCreateFilms, action.payload.id, action.payload.payload);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nexport default function* rootSaga() {\r\n  yield takeEvery(POST_FILM, postFilm)\r\n}\r\n","import {\r\n  applyMiddleware,\r\n  combineReducers,\r\n  createStore\r\n} from 'redux';\r\nimport filmsReducer from '../models/filmlist/reducer';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootSaga from '../api/sagas';\r\n\r\nconst saga = createSagaMiddleware();\r\n\r\nconst reducer = combineReducers(\r\n  {\r\n    films: filmsReducer\r\n  }\r\n);\r\n\r\nconst store = createStore(reducer, applyMiddleware(saga));\r\nsaga.run(rootSaga);\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './state/Store';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(<Provider store={store}>\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n</Provider>, document.getElementById('root'));\n"],"sourceRoot":""}
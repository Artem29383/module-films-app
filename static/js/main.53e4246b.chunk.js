(this["webpackJsonpmodule-list-app"]=this["webpackJsonpmodule-list-app"]||[]).push([[0],{10:function(e,t,a){e.exports={createdFilmFrame:"AddFilm_createdFilmFrame__FJNSf",show:"AddFilm_show__1cVIx",title:"AddFilm_title__2Hdq8",titleText:"AddFilm_titleText__3d4nP",frameContent:"AddFilm_frameContent__2optG",close:"AddFilm_close__Qxjj7",active:"AddFilm_active__Z_2Cz",frameFields:"AddFilm_frameFields__1yfj7",error:"AddFilm_error__1iNV9",green:"AddFilm_green__VG5b5"}},19:function(e,t,a){e.exports={frameInput:"Input_frameInput__1787G",group:"Input_group__EgZ5C",label:"Input_label__15E8K",input:"Input_input__2Faqu",bar:"Input_bar__3gCN7",error:"Input_error__1s1uQ"}},42:function(e,t,a){e.exports={content:"App_content__1jzHC"}},45:function(e,t,a){e.exports={home:"HomePage_home__3TQdG"}},46:function(e,t,a){e.exports={btn:"Button_btn__xh7zG"}},52:function(e,t,a){e.exports=a(82)},57:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),i=(a(57),a(14)),l=a(42),o=a.n(l),u=a(18),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.c)((function(a){return e(a,t)}))},d=a(44),p=function(e){return e.films.isPost},f=Object(d.a)([function(e){return e.films.init}],(function(e){return e})),_=function(e){var t=Object(u.b)();return Object(n.useCallback)((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t({type:e,payload:a})}),[t,e])},b=a(45),v=a.n(b),E=a(17),O=a(10),j=a.n(O),h=a(24),F=a.n(h),S=a(19),x=a.n(S),g=function(e){var t=e.value,a=e.handler,n=e.desc,c=e.isError;return r.a.createElement("div",{className:x.a.group},r.a.createElement("input",{value:t,onChange:a,placeholder:" ",className:x.a.frameInput,type:"text"}),r.a.createElement("span",{className:x.a.bar}),r.a.createElement("label",{className:x.a.label},n),c&&!t&&r.a.createElement("div",{className:x.a.error},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435."))},I=a(46),T=a.n(I),C=function(e){var t=e.text,a=e.fn;return r.a.createElement("button",{className:T.a.btn,onClick:a},t)},y=function(){var e=Object(n.useState)(!1),t=Object(E.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(E.a)(s,2),l=i[0],o=i[1],u=Object(n.useState)(""),d=Object(E.a)(u,2),f=d[0],b=d[1],v=Object(n.useState)(""),O=Object(E.a)(v,2),h=O[0],S=O[1],x=Object(n.useState)(""),I=Object(E.a)(x,2),T=I[0],y=I[1],N=Object(n.useState)(!1),w=Object(E.a)(N,2),L=w[0],k=w[1],P=m(p),A=_("POST_FILM"),M=_("POST_FILM_SUCCESS"),G=Object(n.useCallback)((function(e){o(e.currentTarget.value)}),[o]),U=Object(n.useCallback)((function(e){b(e.currentTarget.value)}),[b]),z=Object(n.useCallback)((function(e){S(e.currentTarget.value)}),[S]),H=Object(n.useCallback)((function(e){y(e.currentTarget.value)}),[y]);return Object(n.useEffect)((function(){L&&setTimeout((function(){return k(!1)}),2e3),P&&setTimeout((function(){return M(!1)}),2e3)}),[L,P,M]),r.a.createElement("div",{className:F()(j.a.createdFilmFrame,a&&j.a.show)},r.a.createElement("div",{className:j.a.frameContent},r.a.createElement("div",{className:j.a.title},r.a.createElement("div",{className:j.a.titleText},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c")),r.a.createElement("div",{className:j.a.frameFields},r.a.createElement(g,{isError:L,value:l,handler:G,desc:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),r.a.createElement(g,{isError:L,value:f,handler:U,desc:"\u0416\u0430\u043d\u0440"}),r.a.createElement(g,{isError:L,value:h,handler:z,desc:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430"}),r.a.createElement(g,{isError:L,value:T,handler:H,desc:"\u0421\u0442\u0440\u0430\u043d\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"}),P&&r.a.createElement("div",{className:F()(j.a.error,j.a.green)},"\u0424\u0438\u043b\u044c\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d.")),r.a.createElement(C,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c",fn:function(){if(l.trim()&&f.trim()&&h.trim()&&T.trim()){var e=Date.now();A({id:e,payload:{id:e,name:l,genre:f,date:h,country:T,fields:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0416\u0430\u043d\u0440","\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430","\u0421\u0442\u0440\u0430\u043d\u0430"]}}),o(""),b(""),S(""),y("")}else k(!0)}}),r.a.createElement("span",{className:F()(j.a.close,a&&j.a.active),onClick:function(){c(!a),a&&(o(""),b(""),S(""),y(""))}},"\u2716")))},N=[{path:"/",component:function(){return r.a.createElement("div",{className:v.a.home},r.a.createElement(y,null))}}],w=function(){var e=m(f),t=_("GET_FILMS");Object(n.useEffect)((function(){t()}),[t]);var a=N.map((function(e){var t=e.path,a=e.component;return r.a.createElement(i.b,{key:t,path:t,render:function(e){return r.a.createElement(a,e)}})}));return r.a.createElement(n.Fragment,null,e&&r.a.createElement("div",{className:o.a.content},a,r.a.createElement(i.a,{to:"/"})))},L=a(12),k=a(25),P={filmsList:[],init:!1,isPost:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUT_FILMS":var a=t.payload,n=a.entities,r=a.ids;return Object(k.a)({},e,{filmsList:{entities:n,ids:r}});case"POST_FILM_SUCCESS":return Object(k.a)({},e,{isPost:t.payload});case"SET_INIT":return Object(k.a)({},e,{init:!0});default:return e}},M=a(51),G=a(16),U=a.n(G),z=a(48),H=a(49),J=a.n(H),Q=new function e(){var t=this;Object(z.a)(this,e),this.getFilms=function(){return t.instance.get("filmsList")},this.postCreateFilms=function(e,a){return t.instance.post("filmsList",a)},this.instance=J.a.create({baseURL:"http://localhost:5000/"})},V=a(15),q=a(31),B=U.a.mark(Z),D=U.a.mark(K),R=U.a.mark(W);function Z(e){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(V.a)(Q.postCreateFilms,e.payload.id,e.payload.payload);case 3:return t.next=5,Object(V.b)({type:"POST_FILM_SUCCESS",payload:!0});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),B,null,[[0,7]])}function K(){var e,t,a,n;return U.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(V.a)(Q.getFilms);case 3:return e=r.sent,t=new q.b.Entity("filmsList"),a=[t],n=Object(q.a)(e.data,a),r.next=9,Object(V.b)({type:"PUT_FILMS",payload:{entities:n.entities.filmsList,ids:n.result}});case 9:return r.next=11,Object(V.b)({type:"SET_INIT"});case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),console.log(r.t0);case 16:case"end":return r.stop()}}),D,null,[[0,13]])}function W(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.c)("POST_FILM",Z);case 2:return e.next=4,Object(V.c)("GET_FILMS",K);case 4:case"end":return e.stop()}}),R)}var X=a(50),Y=Object(M.a)(),$=Object(L.combineReducers)({films:A}),ee=Object(L.createStore)($,Object(X.composeWithDevTools)(Object(L.applyMiddleware)(Y)));Y.run(W);var te=ee,ae=a(27);s.a.render(r.a.createElement(u.a,{store:te},r.a.createElement(ae.a,null,r.a.createElement(w,null))),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.53e4246b.chunk.js.map